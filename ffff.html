<!DOCTYPE html>
<html>

<head><title>canvass</title>
</head>

<body>

<script type="text/javascript">
var col1=[];
var col2=[];
var col3=[];
var row1=[];
var row2=[];
var row3=[];
var diagonal1=[];
var diagonal2=[];
var player=[];
var next=[];


/*
 function myFunction(event){
	alert(event.target.getAttribute('id'));
}
*/



function start(){
         
        next.push(player[0]);

        document.getElementById("table").setAttribute("onClick","myFunction(event)");
        document.getElementById("submitPlayer").setAttribute("onClick"," ");

}
/*
for(var i=0;i<player.length;i++){
        alert(player[i] +" to play");
	};
*/
function continues(n){
	if(n < player.length-1){
		var nextPlayer=player[n+1];
	}else if(n == player.length-1){
	   var nextPlayer=player[0];
	}
	/*
	else{
	   var nextPlayer=player[0];
	}
	*/
	
	   next[0]=nextPlayer;
	   //row(a,b);
	    
}

function submitPlayer(){
   
    if(document.getElementById("eachPlayer").value !=""){
    var eachPlayer=document.getElementById("eachPlayer").value;
    player.push(eachPlayer);
    document.getElementById("startGame").setAttribute("onClick","start()");
    document.getElementById("eachPlayer").value="";
   }else{
   	document.getElementById("eachPlayer").focus();
   }
}




function myFunction(event){
	var add=event.target.innerHTML; 
	var get=event.target.getAttribute("data");
	var id=event.target.getAttribute("id");

	
	/*
	for(var i=0;i<player.length;i++){
        alert(player[i] +" to play");
	};
	*/

	var index=player.indexOf(next[0]);
	/*
	if(index > player.length-1){
		indexOfx=0;
	}
	*/
	var name=next[0];


	event.target.innerHTML=name;

	
	document.getElementById("nexts").innerHTML=next[0]+" to play next";


	if((get % 3)==1){

		if(col1.length>0){
			/*for(var i=1;i<=col1.length;i++){
				*/if(col1[col1.length-1]==name){
				
					col1.push(name);
					if(col1.length>=3){
						//alert(col2[0]);
                       document.getElementById("winner").innerHTML=col1[0]+" win the game";
                       document.getElementById("table").setAttribute("onClick"," ");
                       document.getElementById("nexts").innerHTML=" ";

					}
				}

			/*}*/

		}else{
			col1.push(name);
		}
	}
	else if((get % 3)==2){

		if(col2.length>0){
			/*for(var i=1;i<=col2.length;i++){
				*/if(col2[col2.length-1]==name){
					col2.push(name);
					if(col2.length>=3){
						//alert(col2[0]);
						document.getElementById("winner").innerHTML=col2[0]+" win the game";

                       document.getElementById("table").setAttribute("onClick"," ");
                       document.getElementById("nexts").innerHTML=" ";

					}
				}

			/*}*/

		}else{
			col2.push(name);
		}
	}
	else if((get % 3)==0){

		if(col3.length>0){
			/*for(var i=1;i<=col3.length;i++){
				*/if(col3[col3.length-1]==name){
					col3.push(name);
					if(col3.length>=3){
						//alert(col3[0]);
						document.getElementById("winner").innerHTML=col3[0]+" win the game";

                       document.getElementById("table").setAttribute("onClick"," ");
                       document.getElementById("nexts").innerHTML=" ";

					}
				}

			/*}*/

		}else{
			col3.push(name);
		}
	}


	if(get < 4){

		if(row1.length>0){
			/*for(var i=1;i<=col1.length;i++){
				*/if(row1[row1.length-1]==name){
				
					row1.push(name);
					if(row1.length>=3){
						//alert(col2[0]);
                       document.getElementById("winner").innerHTML=row1[0]+" win the game";

                       document.getElementById("table").setAttribute("onClick"," ");
                       document.getElementById("nexts").innerHTML=" ";

					}
				}

			/*}*/

		}else{
			row1.push(name);
		}
	}
	else if((get >= 4) && (get < 7)){

		if(row2.length>0){
			/*for(var i=1;i<=col2.length;i++){
				*/if(row2[row2.length-1]==name){
					row2.push(name);
					if(row2.length>=3){
						//alert(col2[0]);
						document.getElementById("winner").innerHTML=row2[0]+" win the game";

                       document.getElementById("table").setAttribute("onClick"," ");
                       document.getElementById("nexts").innerHTML=" ";

					}
				}

			/*}*/

		}else{
			row2.push(name);
		}
	}
	else if((get >= 7) && (get < 10)){

		if(row3.length>0){
			/*for(var i=1;i<=col3.length;i++){
				*/if(row3[row3.length-1]==name){
					row3.push(name);
					if(row3.length>=3){
						//alert(col3[0]);
						document.getElementById("winner").innerHTML=row3[0]+" win the game";

                       document.getElementById("table").setAttribute("onClick"," ");
                       document.getElementById("nexts").innerHTML=" ";

					}
				}

			/*}*/

		}else{
			row3.push(name);
		}
	}



	if((get % 4)==1){

		if(diagonal1.length>0){
			/*for(var i=1;i<=col1.length;i++){

				*/
               if(get==5){
			   diagonal2.push(name);
			    }
				if(diagonal1[diagonal1.length-1]==name){
				
					diagonal1.push(name);
					if(diagonal1.length>=3){
						//alert(col2[0]);
                       document.getElementById("winner").innerHTML=diagonal1[0]+" win the game";

                       document.getElementById("table").setAttribute("onClick"," ");
                       document.getElementById("nexts").innerHTML=" ";

					}
				}

			/*}*/

		}else{
			if(get==5){
			   diagonal2.push(name);
			}
			diagonal1.push(name);
		}
	}
	else if((get == 3) || (get==7)){

		if(diagonal2.length>0){
			/*for(var i=1;i<=col2.length;i++){
				*/if(diagonal2[diagonal2.length-1]==name){
					diagonal2.push(name);
					if(diagonal2.length>=3){
						//alert(col2[0]);
						document.getElementById("winner").innerHTML=diagonal2[0]+" win the game";

                       document.getElementById("table").setAttribute("onClick"," ");
                       document.getElementById("nexts").innerHTML=" ";

					}
				}

			/*}*/

		}else{
			diagonal2.push(name);
		}
	}

 /*
alert(col1.length+ " "+row1.length+ " "+diagonal1.length);
alert(col2.length+ " "+row2.length+ " "+diagonal2.length);
alert(col3.length+ " "+row3.length);
  
    if( (innerValue[0].innerHTML==innerValue[3].innerHTML) && (innerValue[3].innerHTML==innerValue[6].innerHTML) ){
    	document.getElementById("winner").innerHTML=innerValue[0].innerHTML;
    }
    else if( (innerValue[1].innerHTML==innerValue[4].innerHTML) && (innerValue[4].innerHTML==innerValue[7].innerHTML) ){
         document.getElementById("winner").innerHTML=innerValue[1].innerHTML;
    }
    else if( (innerValue[2].innerHTML==innerValue[5].innerHTML) && (innerValue[5].innerHTML==innerValue[8].innerHTML) ){
         document.getElementById("winner").innerHTML=innerValue[2].innerHTML;
    }
    else{
       document.getElementById("winner").innerHTML=" ";
    }
    
    for(var v=1;v<=innerValue.length;v++){
          if(v<4){

               	  col1.push(innerValue[v].innerHTML);
               
          }
          else if(v>=4 && v<7){
               	  col2.push(innerValue[v].innerHTML);
              
          }
          else if(v>=7 && v<10){
               	  col3.push(innerValue[v].innerHTML);
               
          }
    }
   
    for(var v=1;v<=innerValue.length;v++){

          if(v%3==1){
                
               	  col1.push(innerValue[v-1].innerHTML);
               	  if(col1.length<=3){
               	  	  if((col1[0]==col1[1]) && (col1[1]==col1[2])){
               	  	  	 document.getElementById("winner").innerHTML=col1[0];
               	  	  }
               	  }
               alert(col1.length);
          }
          else if(v%3==2){
               	  col2.push(innerValue[v-1].innerHTML);
                 if(col2.length<=3){
               	  	  if((col2[0]==col2[1]) && (col2[1]==col2[2])){
               	  	  	 document.getElementById("winner").innerHTML=col2[0];
               	  	  }
               	  }
               	   alert(col2.length);
          }
          else if(v%3==0){
               	  col3.push(innerValue[v-1].innerHTML);
               if(col3.length<=3){
               	  	  if((col3[0]==col3[1]) && (col3[1]==col3[2])){
               	  	  	 document.getElementById("winner").innerHTML=col3[0];
               	  	  }
               	  }
               	   alert(col3.length);
          }
    }
  


    	/*
    	if( (col[0]==col[3]) && (col[3]==column[6]) ){
            document.getElementById("winner").innerHTML=column[0];
    	}else if( (col[1]==col[4]) && (col[4]==column[7]) ){
            document.getElementById("winner").innerHTML=column[1];
    	}
    	else if( (col[2]==col[5]) && (col[5]==column[8]) ){
            document.getElementById("winner").innerHTML=column[2];
    	}
    	*/

	continues(index);

 document.getElementById(id).disabled=true;
	//event.target.tagName.disabled=true;
	//col(add);
	//alert(next[0]+" to play next");
    

}
function startAgain(){
	window.location="ffff.html";
}

/*
function row(){

	var innerValue= document.getElementById("row").innerHTML;
    if( (innerValue[0]==innerValue[3]) && (innerValue[3]==innerValue[6]) ){
    	document.getElementById("winner").innerHTML=innerValue[0];
    }
    else if( (innerValue[1]==innerValue[4]) && (innerValue[4]==innerValue[7]) ){
         document.getElementById("winner").innerHTML=innerValue[1];
    }
    else if( (innerValue[2]==innerValue[5]) && (innerValue[5]==innerValue[8]) ){
         document.getElementById("winner").innerHTML=innerValue[2];
    }

} 

function check(){
   if( (col[0]==col[3]) && (col[3]==column[6]) ){
            document.getElementById("winner").innerHTML=column[0];
    	}else if( (col[1]==col[4]) && (col[4]==column[7]) ){
            document.getElementById("winner").innerHTML=column[1];
    	}
    	else if( (col[2]==col[5]) && (col[5]==column[8]) ){
            document.getElementById("winner").innerHTML=column[2];
    	}
}

function gameLoop(){
   setInterval(gameLoop,1000);
   check();

}
gameLoop();
*/
</script>

<input type="button" id="startGame" value="start game" style="padding:5px;color:white;background:green" />

<div id="winner" align="center" style="color:red;font:bold 15px tahoma"></div>
<div id="nexts" align="center" style="color:red;font:bold 15px tahoma"></div>

<div id="startAgain" align="right" >
	<button onClick="startAgain()" style="padding:2.5px;background:green;color:white;">start again</button>
</div><br /><br />

<table id="table" border="1" style="background-color:gold;color:black";margin-left: "400px"; height="420px" width="420px"; >
<tr>
<td style="width:33.33%;height:33.33%"><button id="1" data="1" style="width:100%;height:100%;background:red;color:white">1</button></td>
<td style="width:33.33%;height:33.33%"><button  id="2" data="2" style="width:100%;height:100%;background:red;color:white">2</button></td>
<td style="width:33.33%;height:33.33%"><button  id="3" data="3" style="width:100%;height:100%;background:red;color:white">3</button></td>

</tr>


<tr>
<td style="width:33.33%;height:33.33%"><button  id="4" data="4" style="width:100%;height:100%;background:red;color:white">4</button></td>
<td style="width:33.33%;height:33.33%"><button  id="5" data="5" style="width:100%;height:100%;background:red;color:white">5</button></td>
<td style="width:33.33%;height:33.33%"><button  id="6" data="6" style="width:100%;height:100%;background:red;color:white">6</button></td>

</tr>


<tr>
<td style="width:33.33%;height:33.33%"><button  id="7" data="7" style="width:100%;height:100%;background:red;color:white">7</button></td>
<td style="width:33.33%;height:33.33%"><button  id="8" data="8" style="width:100%;height:100%;background:red;color:white">8</button></td>
<td style="width:33.33%;height:33.33%"><button  id="9" data="9" style="width:100%;height:100%;background:red;color:white">9</button></td>

</tr>

</table><br /><br />


<input  type="text" id="eachPlayer" placeholder="enter each player name" style="padding:5px;" /><input type="button" value="submit" id="submitPlayer"onClick="submitPlayer()" style="padding:5px;color:white;background:green" />

</body>

</html>